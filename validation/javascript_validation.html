<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script src="https://unpkg.com/validator@latest/validator.min.js"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>

  <div class="container">
    <h1 class="text-center" >validator</h1>
    <div class="mb-3 ">
      <label for="email" class="form-label">Email address</label>
      <input type="text" class="form-control" id="email"  onkeyup="validateemail()" placeholder="name@example.com">
      <span id="emailmsg"></span>

    </div>

    <div class="mb-3 ">
      <label for="name" class="form-label">name address</label>
      <input type="text" class="form-control" id="name"  onkeyup="validatename()" placeholder="name">
      <span id="namemsg"></span>

    </div>

    <button  onclick="validateform()">click</button>

    <span id="subbtnerror"></span>

  </div>


  
</body>
</html>

<script>

  // https://www.npmjs.com/package/Validator  option2 for like using laravel 5

  // https://www.npmjs.com/package/validator for string only

  let emailmsg = document.getElementById('emailmsg');
  let namemsg = document.getElementById('namemsg');
  let subbtnerror = document.getElementById('subbtnerror');

function validateemail()
{
  let email = document.getElementById('email').value
  
  if(validator.isEmpty(email))
  {
    emailmsg.classList.remove('text-danger');
    emailmsg.classList.remove('text-success');
    emailmsg.innerHTML = 'email not empty';
    emailmsg.classList.add('text-danger');
    return false;
  }
  
  if(!validator.isEmail(email))
  {
    emailmsg.classList.remove('text-danger');
    emailmsg.classList.remove('text-success');
    emailmsg.innerHTML = 'email not valid';
    emailmsg.classList.add('text-danger');
    return false;
  } 

  
  emailmsg.classList.remove('text-danger');
  emailmsg.classList.remove('text-success');
  emailmsg.innerHTML = 'success';
  emailmsg.classList.add('text-success');
  return true;
}

function validatename()
{
  let name = document.getElementById('name').value
  
  if(validator.isEmpty(name))
  {
    namemsg.classList.remove('text-danger');
    namemsg.classList.remove('text-success');
    namemsg.innerHTML = 'name not empty';
    namemsg.classList.add('text-danger');
    return false;
  }
  


  
  namemsg.classList.remove('text-danger');
  namemsg.classList.remove('text-success');
  namemsg.innerHTML = 'success';
  namemsg.classList.add('text-success');
  return true;
}

function validateform(){
  
  if(!validateemail() || !validatename()){
    console.log('aaaa');
    subbtnerror.style.display = 'block';
    subbtnerror.innerHTML = 'fix error first';
    setTimeout(function(){subbtnerror.style.display = 'none'},30000);

    //return false;
  }

}

</script>